<div class="p-d-flex p-jc-between p-ai-center p-mb-0" style="padding:0px 11px">
    <div class="p-d-flex p-col-11" style="align-items: center; ">
        <span class="font-content breadcrumb-guide-label p-mr-1 p-d-flex">
            <span class="primaryColor "><b class="p-mr-1" [routerLink]="'/home'">GPX</b></span> |
            <p-breadcrumb class="p-p-0 p-ml-1 breadcrumb" [model]="menuItems"></p-breadcrumb>

        </span>
    </div>
    <div style="display: flex;align-items: center;">
     <i class="pi pi-trash" type="button" *ngIf="locationDtails?.locationId" (click)="CanDelete($event)" tooltipPosition="top" pTooltip="Delete" ></i>
    </div>
</div>
<div>
    <p-toast [preventOpenDuplicates]="true"></p-toast>
<p-confirmPopup  #confirmPopup [style]="{'font-size':'11px','max-width':'500px'}"></p-confirmPopup>

</div>
<div #processDetailPopup class="p-pr-4 p-pl-4 p-pt-2 p-pb-2 p-mt-1 p-mb-1 p-shadow-4 " style="height: 80vh;">
    <div class="p-d-flex p-flex-wrap p-col-12  p-d-flex p-flex-column p-flex-md-row p-jc-between "
        style="position: relative;">
        <div #containerLeft class="p-lg-7 p-md-12 p-pl-0 p-pr-3  p-pt-0 p-pb-0 p-mt-3">
            <div class="p-col-12 p-p-1 p-d-flex p-flex-column p-flex-md-row" style="align-items: center !important;">
                <div class=" p-col-3 p-p-0 p-mr-1 font-header text-center "> Location Id</div>
                <div class=" p-col-9 p-p-0">
                    <!-- <div class="text-danger error font-content errorFont">
                    Process name should not exceed 255 characters long
                    </div> -->
                    <input [(ngModel)]="locationDtails.locationId" style="width: 96%;" type="text" pInputText readonly>
                </div>
            </div>
            <div class="p-col-12 p-p-1 p-d-flex p-flex-column p-flex-md-row p-ai-center">
                <div class="p-col-6  p-p-0  p-d-flex p-flex-column p-flex-md-row p-ai-center">
                    <div class=" p-col-6 p-p-0  font-header text-center ">Location Name</div>
                    <div class=" p-col-6  p-p-0">

                        <div [ngStyle]="{'width':'100%'}" class="common-font-size">
                            <input [(ngModel)]="locationDtails.locationName" style="width: 90%;" type="text" pInputText
                                required>
                        </div>
                    </div>

                </div>
                <div class="p-col-6  p-p-0   p-d-flex p-flex-column p-flex-md-row p-ai-center">
                    <div class=" p-col-6 p-p-0  font-header text-center ">Location short name</div>
                    <div class=" p-col-6  p-p-0">
                        <div [ngStyle]="{'width':'100%'}" class="common-font-size">
                            <input [(ngModel)]="locationDtails.locationShortName"style="width: 90%;" type="text"
                                pInputText>
                        </div>
                    </div>
                </div>
            </div>
            <div class="p-col-12 p-p-1 p-d-flex p-flex-column p-flex-md-row p-ai-center">
                <div class="p-col-6 p-p-0  p-d-flex p-flex-column p-flex-md-row p-ai-center">
                    <div class=" p-col-6 p-p-0  font-header text-center ">Country</div>
                    <div class=" p-col-6  p-p-0">
                        <div [ngStyle]="{'width':'100%'}" class="common-font-size">
                            <p-dropdown class="width-100-perc" [(ngModel)]="locationDtails.country.name"
                                [options]="countryList" optionLabel="name" placeholder="country"
                                (onChange)="this.getAllCities()" styleClass="custom-dropdown-item">
                            </p-dropdown>
                        </div>

                    </div>


                </div>
                <div class="p-col-6 p-p-0  p-d-flex p-flex-column p-flex-md-row p-ai-center">
                    <div class=" p-col-6 p-p-0  font-header text-center ">City</div>
                    <div class=" p-col-6  p-p-0">
                        <div [ngStyle]="{'width':'100%'}" class="common-font-size">
                            <p-dropdown class="width-100-perc" [(ngModel)]="locationDtails.city" [options]="cityList"
                                optionLabel="name" placeholder="city">
                            </p-dropdown>
                        </div>

                    </div>

                </div>

            </div>
            <div class="p-col-12 p-p-1 p-d-flex p-flex-column p-flex-md-row p-ai-center">
                <div class="p-col-6 p-p-0  p-d-flex p-flex-column p-flex-md-row p-ai-center">
                    <div class=" p-col-6 p-p-0  font-header text-center ">Location Type</div>
                    <div class=" p-col-6  p-p-0">

                        <div [ngStyle]="{'width':'100%'}" class="common-font-size">
                            <p-dropdown class="width-100-perc" [(ngModel)]="locationDtails.locationType"
                                [options]="locationtypes" optionLabel="name" placeholder="Location Type">
                            </p-dropdown>
                        </div>

                    </div>

                </div>
                <div class="p-col-6 p-p-0 p-d-flex p-flex-column p-flex-md-row p-ai-center">
                    <div class=" p-col-6 p-p-0  font-header text-center ">Platform Type</div>
                    <div class=" p-col-6  p-p-0">

                        <div [ngStyle]="{'width':'100%'}" class="common-font-size">
                            <p-dropdown class="width-100-perc" [(ngModel)]="locationDtails.platformType"
                                [options]="PlatformTypes" optionLabel="name" placeholder="Platform Type">
                            </p-dropdown>
                        </div>

                    </div>
                </div>

            </div>
            <div class="p-col-12 p-p-1 p-d-flex p-flex-column p-flex-md-row p-ai-center">
                <div class="p-col-5 p-p-0  p-d-flex p-flex-column p-flex-md-row p-ai-center">
                    <div class=" p-col-7 p-p-0  font-header text-center ">Active(Yes/No)</div>
                    <div class=" p-col-5  p-p-0">

                        <div [ngStyle]="{'width':'100%'}" class="common-font-size">
                            <p-inputSwitch [(ngModel)]="locationDtails.isActive"></p-inputSwitch>

                        </div>

                    </div>

                </div>
                <div class="p-col-7 p-p-0  p-d-flex p-flex-column p-flex-md-row p-ai-center">

                    <div class="p-lg-1 p-md-1 p-text-right" pTooltip="Download Template" tooltipPosition="top"
                        style="margin-left: 2rem;">
                        <img src="../../../../../assets/icons/excel.svg" width="100% " (click)="exportToExcel()" />
                    </div>
                    <div class="p-lg-10 p-p-0 p-md-8 p-d-flex p-ai-center" style="padding-right: 13px !important;">
                        <!-- <span class="p-float-label " style="width:100%"> -->
                        <input id="float-input" type="text" style="  width:100%;  min-height: 2rem;
                    border-right: none;" class="p-inputtext-sm font-size" autocomplete="off"
                            placeholder="Bulk Upload using template" disabled pInputText [(ngModel)]="fileName">
                        <!-- <label for="float-input">Bulk Upload using template</label> -->
                        <!-- </span> -->
                        <label class="p-lg-3 p-p-0 p-md-4 label p-text-center button-secondary p-p-2"
                            style="width:fit-content">
                            <input class="form-control" type="file" id="formFile" [accept]="'.xlsx, .xls'"
                                (change)="fileChange($event)">

                            <span>Upload</span>

                        </label>
                    </div>
                    <div [ngStyle]="{'width':'100%'}" class="common-font-size">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="p-lg-6 p-md-12 p-pr-3  p-d-flex p-jc-between">
        <div class="p-col-6 p-p-0  font-header text-center p-d-flex">
        </div> <button style="color: white !important; background-color: #2529cd;" label="Save"
            class="p-col-2  font-header-commen add-activity" pButton type="button" (click)="saveLocation()"></button>
    </div>
</div>
<app-loader *ngIf="loader"></app-loader>